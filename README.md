# Marketplace API - Курсовая работа

## Описание
API для маркетплейса с несколькими продавцами. Реализованы каталог товаров, система заказов, система комиссий продавцов, аутентификация и авторизация.

## Технологии
- Python 3.11+
- FastAPI
- SQLAlchemy (асинхронный)
- SQLite
- JWT для аутентификации
- Pydantic для валидации
- bcrypt для хеширования паролей

## Установка и запуск

1. Клонировать репозиторий
2. Установить зависимости:
   ```bash
   pip install -r requirements.txt
3. Создать файл .env

## Запустить сервер:

bash
uvicorn app.main:app --reload
Открыть в браузере: http://localhost:8000

## Документация API
Автоматическая документация доступна по адресам:

Swagger UI: http://localhost:8000/docs

ReDoc: http://localhost:8000/redoc

## Основные эндпоинты
- Аутентификация
POST /register - регистрация пользователя

POST /login - вход в систему

GET /me - информация о текущем пользователе (требует токен)

- Товары (Product) - CRUD операции
GET /products - список товаров (все)

GET /products/{id} - товар по ID

POST /products - создать товар (требует токен)

PUT /products/{id} - обновить товар (требует токен)

DELETE /products/{id} - удалить товар (требует админ права)

- Продавцы (Seller)
GET /sellers - список продавцов

GET /sellers/{id} - продавец по ID

POST /sellers - создать продавца (требует админ права)

- Заказы (Order)
GET /orders - мои заказы (требует токен)

POST /orders - создать заказ (требует токен)

- Веб-интерфейс
/ - главная страница

/login-page - страница входа

/register-page - страница регистрации

/me-page - личный кабинет

/main - главная страница приложения

/admin-page - админ-панель (только для администраторов)

## Тестовые данные
При первом запуске создается администратор:

Email: admin@example.com

Пароль: admin123

## Система комиссий
Каждый продавец имеет свой процент комиссии (commission_percent), который учитывается при расчете стоимости заказов.

## Структура БД
users - пользователи системы

sellers - продавцы с комиссией

products - товары

orders - заказы

order_items - позиции в заказе

## Развертывание на PythonAnywhere
Создать аккаунт на pythonanywhere.com

Загрузить файлы через веб-интерфейс или Git

Создать virtual environment и установить зависимости

Настроить WSGI файл для работы с FastAPI

Запустить приложение

## Автор
Студент группы ИВТ-201 Новожеев Дмитрий Андреевич